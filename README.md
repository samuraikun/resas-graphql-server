# What's this repositry?
- The repo is GraphQL Server of RESAS API.

### RESAS API
- Japanese regions local economy statistcal data API.
- https://opendata.resas-portal.go.jp/

# Motivation
RESAS API is REST API. But, I wanna use elastically this API.

So, GraphQL is optimal solution!

# Use
- Node.js/TypeScript
- GraphQL/Apollo Server

# Setup

### Set environment variable of api key

```
mv .env.sample .env
```

`.env`

```
RESAS_API_KEY="xxxxx" // Your API KEY
```

### Run Server

```
docker-compose build
docker-compose up
```

Server listen http://localhost:4000

# Example

## get broad industries

```
query fetchIndustries {
  industries(pageSize: 20) {
    broadIndustries {
      sicCode
      sicName
    }
  }
}
```

# Support API: Current Status

Doc
- https://opendata.resas-portal.go.jp/docs/api/v1/index.html

Last Updated at:
- 2020-06-06

## 共通
- [x] 都道府県一覧
- [x] 市区町村一覧
- [ ] 旧市区町村一覧
- [x] 産業大分類
- [x] 産業中分類
- [x] 産業小分類
- [x] 職業大分類
- [x] 職業中分類
- [x] 特許.技術分野
- [x] 特許.技術テーマ
- [x] 税関
- [x] 輸出入.取引国_地域
- [x] 輸出入.取引国_国
- [x] 農業部門
- [x] 特許権者の所在地
- [x] 輸出入.品目_大分類
- [x] 輸出入.品目_中分類
- [x] 輸出入.品目_小分類

## 人口マップ
- [x] 人口構成
- [x] 人口ピラミッド
- [x] 人口増減率
- [ ] 出生数・死亡数／転入数・転出数
- [ ] 人口の自然増減
- [ ] 地域ブロック別純移動数
- [ ] 年齢階級別純移動数
- [ ] 年齢階級別純移動数の時系列分析
- [ ] 就職者数・進学者数の推移
- [ ] 将来人口推計
- [ ] 人口区分メッシュ度数分布図
- [ ] 将来人口区分メッシュ度数分布図

## 産業構造マップ

### 全産業
- [ ] 産業別特化係数
- [ ] 地域別特化係数
- [ ] 製造業事業所単位分析_継続・参入・退出事業所別の推移
- [ ] 企業数
- [ ] 事業所数
- [ ] 従業者数（事業所単位）
- [ ] 付加価値額（企業単位）
- [ ] 労働生産性（企業単位）

### 製造業
- [ ] 産業構造推移
- [ ] 製造業地域間比較
- [ ] 製造品出荷額

### 小売・卸売業（消費）
- [ ] 年間商品販売額

### 農業
- [ ] 品目別農業産出額
- [ ] 農業産出額
- [ ] 農産物の出荷先別経営体数割合
- [ ] 経営耕地面積
- [ ] 経営耕地面積規模別の経営体割合
- [ ] 農地流動化率
- [ ] 耕作放棄地率
- [ ] 年間延べ農作業日数
- [ ] 農業経営者・農業就業人口の年齢構成
- [ ] 農業経営者・農業就業人口の平均年齢
- [ ] 農業生産関連事業の実施状況（経営体数）
- [ ] 農業経営体の法人化率

### 林業
- [ ] 林業総収入（総額）
- [ ] 林産物販売金額（経営体あたり）
- [ ] 林作業請負収入（経営体あたり）
- [ ] 林産物販売金額帯別の経営体割合
- [ ] 林作業請負収入金額帯別の経営体割合
- [ ] 主要林業部門別延べ経営体数
- [ ] 主要林業部門別延べ経営体数構成
- [ ] 林野面積（総面積）
- [ ] 年間延べ林業作業日数

### 水産業
- [ ] 主要海面漁業種類別延べ経営体数構成
- [ ] 海面漁獲物等販売金額（総額）
- [ ] 海面漁獲物等販売金額（経営体あたり）
- [ ] 海面漁獲物等販売金額帯別の経営体割合
- [ ] 海面漁獲物等出荷先別販売金額構成
- [ ] 海面漁獲物等出荷先別経営体数割合
- [ ] 海面養殖販売金額（総額）
- [ ] 海面養殖販売金額（経営体あたり）
- [ ] 海面養殖販売金額帯別の経営体割合
- [ ] 海面漁船隻数（漁船種類別）
- [ ] 海面漁業の就業者数
- [ ] 内水面漁業種類・養殖種類別延べ経営体数の構成
- [ ] 内水面漁船隻数（漁船種類別）
- [ ] 内水面漁業の従事者数

## 企業活動マップ

### 企業情報
- [ ] 創業比率
- [ ] 黒字赤字企業比率

### 海外取引
- [ ] 海外への企業進出動向
- [ ] 国、税関別輸出入
- [ ] 企業の海外取引額分析

### 研究開発
- [ ] 研究開発費地域間比較
- [ ] 特許一覧

### 法人インフォメーション
- 別APIで公開
  - https://info.gbiz.go.jp/

### 観光マップ

#### 国内
- [ ] 居住都道府県別の延べ宿泊者数（日本人）の推移
- [ ] 宿泊施設数の推移
- [ ] 延べ宿泊者数の推移
- [ ] 延べ宿泊数前年比の推移
- [ ] 定員稼働率の推移
- [ ] 客室稼働率の推移

#### 外国人
- [ ] 指定地域への国籍別訪問者数
- [ ] 指定国籍からの訪問者数
- [ ] 入出国空港間で訪問した地域の訪問者数
- [ ] 入国空港・出国空港内訳
- [ ] 滞在地域内訳

### まちづくりマップ

#### From-to分析（滞在人口）
- [ ] 滞在先の居住地別人数
- [ ] 居住地の滞在先別人数

#### 通勤通学人口
- [ ] 昼間人口・夜間人口の地域別構成割合

#### 不動産取引
- [ ] 不動産取引価格

### 雇用／医療・福祉マップ
- [x] 一人当たり賃金
- [ ] 有効求人倍率
- [ ] 求人・求職者

#### 医療需給
- [ ] 二次医療圏一覧
- [ ] 医療需給_構成割合
- [ ] 医療需給_地域間比較
- [ ] 医療需給_推移
- [ ] 流入患者数・流出患者数

### 介護需給
- [ ] 介護需給地域別比較

### 地方財政マップ

#### 自治体財政状況の比較
- [ ] 目的別歳出決算額構成割合
- [ ] 一人当たり地方税
- [ ] 一人当たり市町村民税法人分
- [ ] 一人当たり固定資産税
